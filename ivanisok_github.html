<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ivan is OK üòé</title>
  <meta name="description" content="Ivan's GitHub portfolio" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-zinc-950 text-zinc-100 min-h-screen overflow-x-hidden">

  <!-- Header -->
  <header class="fixed top-0 left-0 right-0 z-50 bg-zinc-950/80 backdrop-blur border-b border-zinc-800">
    <div class="max-w-6xl mx-auto flex items-center justify-between p-4">
      <h1 class="text-xl font-bold">ivanisok</h1>
      <button id="menuBtn" class="md:hidden text-2xl">‚ò∞</button>
      <nav class="hidden md:flex gap-6">
        <a href="#about" class="navItem hover:text-blue-400 transition-transform duration-200 hover:scale-110">About me</a>
        <a href="https://github.com/ivanisok" target="_blank" class="navItem hover:text-blue-400 transition-transform duration-200 hover:scale-110">My GitHub</a>
      </nav>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div id="mobileMenu" class="fixed inset-0 bg-zinc-950 z-40 hidden flex-col items-center justify-center gap-8 text-2xl">
    <a href="#about" class="menuLink">About me</a>
    <a href="https://github.com/ivanisok" target="_blank" class="menuLink">My GitHub</a>
  </div>

  <!-- Main -->
  <main class="pt-28 max-w-6xl mx-auto px-4">

    <!-- About -->
    <section id="about" class="mb-20">
      <h2 class="text-3xl font-bold mb-4">About me</h2>
      <p class="text-zinc-300 max-w-2xl leading-relaxed">
        Hi! Im Ivan, a young dev interested in Android, i dailydrive : Linux! (nerd)
      </p>
    </section>

    <!-- Repos -->
    <section>
      <h2 class="text-3xl font-bold mb-6">My Repositories</h2>
      <div id="repos" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="mt-20 py-6 text-center text-zinc-500 border-t border-zinc-800">
    Auto-updated from GitHub every visit ‚Ä¢ ¬© Ivan
  </footer>

  <!-- Motion One (loaded AFTER DOM) -->
  <script src="https://unpkg.com/motion@10.16.2/dist/motion.umd.min.js"></script>

  <script>
    // Safe animate helper (prevents crashes if Motion fails to load)
    function safeAnimate(el, keyframes, options) {
      if (window.motion && typeof window.motion.animate === 'function') {
        window.motion.animate(el, keyframes, options);
      }
    }

    // Hamburger menu
    const btn = document.getElementById('menuBtn');
    const menu = document.getElementById('mobileMenu');

    btn.addEventListener('click', () => {
      menu.classList.toggle('hidden');
      safeAnimate(menu, { opacity: [0, 1], scale: [0.95, 1] }, { duration: 0.25 });
    });

    document.querySelectorAll('.menuLink').forEach(link => {
      link.addEventListener('click', () => menu.classList.add('hidden'));
    });

    // Fetch GitHub repos
    async function loadRepos() {
      try {
        const res = await fetch('https://api.github.com/users/ivanisok/repos?per_page=100&sort=updated');
        const repos = await res.json();
        const container = document.getElementById('repos');

        repos.forEach(repo => {
          const card = document.createElement('a');
          card.href = repo.html_url;
          card.target = '_blank';
          card.className = 'repoCard block bg-zinc-900 border border-zinc-800 rounded-2xl p-5 hover:border-blue-500 transition-transform duration-200 shadow hover:scale-105';

          card.innerHTML = `
            <h3 class="text-lg font-semibold mb-1">${repo.name}</h3>
            <p class="text-sm text-zinc-400 mb-3">${repo.description ?? 'No description'}</p>
            <div class="text-xs text-zinc-500 flex justify-between">
              <span>‚≠ê ${repo.stargazers_count}</span>
              <span>${repo.language ?? ''}</span>
            </div>
          `;

          container.appendChild(card);
          safeAnimate(card, { opacity: [0, 1], y: [20, 0] }, { duration: 0.4 });
        });
      } catch (e) {
        console.error('Failed to load GitHub repos', e);
      }
    }

    // Hover animations (desktop only)
    function enableHoverAnimations() {
      if (!window.matchMedia('(hover: hover)').matches) return;

      document.querySelectorAll('.navItem').forEach(el => {
        el.addEventListener('mouseenter', () =>
          safeAnimate(el, { scale: 1.15 }, { duration: 0.15 })
        );
        el.addEventListener('mouseleave', () =>
          safeAnimate(el, { scale: 1 }, { duration: 0.15 })
        );
      });

      document.querySelectorAll('.repoCard').forEach(el => {
        el.addEventListener('mouseenter', () =>
          safeAnimate(el, { scale: 1.08 }, { duration: 0.2 })
        );
        el.addEventListener('mouseleave', () =>
          safeAnimate(el, { scale: 1 }, { duration: 0.2 })
        );
      });
    }

    loadRepos().then(enableHoverAnimations);
  </script>
</body>
</html>
